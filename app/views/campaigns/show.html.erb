<%- model_class = Campaign -%>
<div class="page-header">
  <h1><%=t '.title', :default => "Campaign #{@campaign.name}" %></h1>
</div>

<div id="tabs">
  <ul>
    <li><a href="#fragment-1">Information</a></li>
    <li><a href="#fragment-2">Add Products</a></li>
    <li><a href="#fragment-3">Orders</a></li>
  </ul>
  <div id="fragment-1">
    <dl class="dl-horizontal">
      <dt><strong><%= model_class.human_attribute_name(:name) %>:</strong></dt>
      <dd><%= @campaign.name %></dd>
      <dt><strong><%= model_class.human_attribute_name(:start_date) %>:</strong></dt>
      <dd><%= @campaign.start_date %></dd>
      <dt><strong><%= model_class.human_attribute_name(:end_date) %>:</strong></dt>
      <dd><%= @campaign.end_date %></dd>
      <dt><strong><%= model_class.human_attribute_name('products') %>:</strong></dt>
        <% @campaign.products.each do |product| %>
          <dd>
            <%= product.name %>
            <%= link_to 'Delete', 
                remove_product_campaign_path(product_id: product.id, id: @campaign.id),
                :method => 'delete',
                :class => 'btn btn-xs btn-danger' %>
          </dd>
        <% end %>
    </dl>
  </div>
  <div id="fragment-2">
    <% @products.each do |product| %>
      <dd>
        <% if ! @campaign.products.include?(product) %>
        <%= product.name %>
        <%= link_to 'Add', 
            add_product_campaign_path(product_id: product.id, id: @campaign.id),
            :method => 'post',
            :class => 'btn btn-default btn-xs' %>
        <% end %>
      </dd>
    <% end %>
  </div>
  <div id="fragment-3">
    
  </div>
</div>

<br>


<%= link_to t('.back', :default => t("helpers.links.back")),
              campaigns_path, :class => 'btn btn-default'  %>
